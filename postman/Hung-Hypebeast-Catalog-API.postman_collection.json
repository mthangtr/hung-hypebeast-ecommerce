{
	"info": {
		"name": "Hung Hypebeast E-Commerce API",
		"description": "Complete API collection for Hung Hypebeast E-Commerce - Catalog, Cart, Checkout, Order Tracking, and Admin",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Products",
			"item": [
				{
					"name": "Get All Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products?page=0&size=20",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products"],
							"query": [
								{
									"key": "page",
									"value": "0",
									"description": "Page number (0-indexed)"
								},
								{
									"key": "size",
									"value": "20",
									"description": "Items per page"
								},
								{
									"key": "sortBy",
									"value": "createdAt",
									"disabled": true,
									"description": "Sort field: name, price, createdAt"
								},
								{
									"key": "sortDirection",
									"value": "DESC",
									"disabled": true,
									"description": "ASC or DESC"
								}
							]
						},
						"description": "Get paginated list of all products"
					}
				},
				{
					"name": "Get Products - Filter by Category (Áo Thun)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products?category=ao-thun&page=0&size=10",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products"],
							"query": [
								{
									"key": "category",
									"value": "ao-thun",
									"description": "Filter by category: ao-thun, hoodie, quan"
								},
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						},
						"description": "Filter products by category (T-shirts)"
					}
				},
				{
					"name": "Get Products - Filter by Category (Hoodie)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products?category=hoodie&page=0&size=10",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products"],
							"query": [
								{
									"key": "category",
									"value": "hoodie"
								},
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						},
						"description": "Filter products by category (Hoodies)"
					}
				},
				{
					"name": "Get Products - Filter by Price Range",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products?minPrice=300000&maxPrice=500000&page=0&size=20",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products"],
							"query": [
								{
									"key": "minPrice",
									"value": "300000",
									"description": "Minimum price in VND"
								},
								{
									"key": "maxPrice",
									"value": "500000",
									"description": "Maximum price in VND"
								},
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "20"
								}
							]
						},
						"description": "Filter products by price range (300k - 500k VND)"
					}
				},
				{
					"name": "Get Product by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products", "1"]
						},
						"description": "Get detailed product information including variants by ID"
					}
				},
				{
					"name": "Get Limited Edition Product (Low Stock)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products/9",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products", "9"]
						},
						"description": "Get limited edition hoodie with low stock (for testing inventory)"
					}
				}
			],
			"description": "Product catalog endpoints for browsing and searching products"
		},
		{
			"name": "Cart",
			"item": [
				{
					"name": "Get Cart",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "{{sessionId}}",
								"description": "Session ID to identify the cart"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/cart",
							"host": ["{{baseUrl}}"],
							"path": ["api", "cart"]
						},
						"description": "Get current cart contents. Creates a new cart if not exists."
					}
				},
				{
					"name": "Add Item to Cart",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "{{sessionId}}",
								"description": "Session ID to identify the cart"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"variantId\": 1,\n    \"quantity\": 2\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/cart/items",
							"host": ["{{baseUrl}}"],
							"path": ["api", "cart", "items"]
						},
						"description": "Add a product variant to cart. Validates stock availability."
					}
				},
				{
					"name": "Add Another Item (Hoodie)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "{{sessionId}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"variantId\": 25,\n    \"quantity\": 1\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/cart/items",
							"host": ["{{baseUrl}}"],
							"path": ["api", "cart", "items"]
						},
						"description": "Add Hoodie Black Dragon to cart"
					}
				},
				{
					"name": "Update Cart Item Quantity",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "{{sessionId}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"quantity\": 5\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/cart/items/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "cart", "items", "1"]
						},
						"description": "Update quantity of cart item. Validates stock availability."
					}
				},
				{
					"name": "Remove Item from Cart",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "{{sessionId}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/cart/items/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "cart", "items", "1"]
						},
						"description": "Remove an item from the cart"
					}
				}
			],
			"description": "Shopping cart endpoints"
		},
		{
			"name": "Checkout - Inventory Reservation",
			"item": [
				{
					"name": "Reserve Inventory",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "{{sessionId}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/checkout/reserve",
							"host": ["{{baseUrl}}"],
							"path": ["api", "checkout", "reserve"]
						},
						"description": "Reserve inventory for 15 minutes when customer enters checkout page. This locks the items in cart so other customers cannot purchase them."
					}
				},
				{
					"name": "Get Active Reservation",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "{{sessionId}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/checkout/reservation",
							"host": ["{{baseUrl}}"],
							"path": ["api", "checkout", "reservation"]
						},
						"description": "Check if there's an active reservation for this session. Returns remaining time."
					}
				},
				{
					"name": "Cancel Reservation",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "{{sessionId}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/checkout/reservation",
							"host": ["{{baseUrl}}"],
							"path": ["api", "checkout", "reservation"]
						},
						"description": "Cancel the reservation and release the inventory back to available stock."
					}
				}
			],
			"description": "Inventory reservation endpoints for checkout process"
		},
		{
			"name": "Checkout - Create Order",
			"item": [
				{
					"name": "Create Order - COD",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "{{sessionId}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"customerName\": \"Nguyễn Văn A\",\n    \"customerEmail\": \"nguyenvana@gmail.com\",\n    \"customerPhone\": \"0901234567\",\n    \"shippingAddress\": \"123 Nguyễn Huệ\",\n    \"shippingCity\": \"TP.HCM\",\n    \"shippingDistrict\": \"Quận 1\",\n    \"paymentMethod\": \"COD\",\n    \"customerNote\": \"Giao giờ hành chính\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/checkout/order",
							"host": ["{{baseUrl}}"],
							"path": ["api", "checkout", "order"]
						},
						"description": "Create order with COD payment method. Sends confirmation email with tracking link."
					}
				},
				{
					"name": "Create Order - Bank Transfer",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "{{sessionId}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"customerName\": \"Trần Minh Hùng\",\n    \"customerEmail\": \"t03612977@gmail.com\",\n    \"customerPhone\": \"0987654321\",\n    \"shippingAddress\": \"456 Lê Lợi\",\n    \"shippingCity\": \"Hà Nội\",\n    \"shippingDistrict\": \"Hoàn Kiếm\",\n    \"paymentMethod\": \"BANK_TRANSFER\",\n    \"customerNote\": \"Chuyển khoản trước khi giao\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/checkout/order",
							"host": ["{{baseUrl}}"],
							"path": ["api", "checkout", "order"]
						},
						"description": "Create order with Bank Transfer payment method. Sends confirmation email with tracking link."
					}
				}
			],
			"description": "Order creation endpoints"
		},
		{
			"name": "Order Tracking",
			"item": [
				{
					"name": "Track Order by Token",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/orders/track/{{trackingToken}}",
							"host": ["{{baseUrl}}"],
							"path": ["api", "orders", "track", "{{trackingToken}}"]
						},
						"description": "Track order status using tracking token. NO LOGIN REQUIRED - customer can view order by clicking link in email."
					}
				},
				{
					"name": "Track Order - Example Token",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/orders/track/9016d8f2-c5a0-4f6e-a8c0-4b43b763d2c0",
							"host": ["{{baseUrl}}"],
							"path": ["api", "orders", "track", "9016d8f2-c5a0-4f6e-a8c0-4b43b763d2c0"]
						},
						"description": "Example tracking with a real token from test order"
					}
				}
			],
			"description": "Order tracking endpoints - NO authentication required"
		},
		{
			"name": "Admin - Authentication",
			"item": [
				{
					"name": "Admin Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Login successful\", function () {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"admin\",\n    \"password\": \"admin123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/auth/login",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "auth", "login"]
						},
						"description": "Admin login - creates session. Default credentials: admin/admin123"
					}
				},
				{
					"name": "Check Admin Session",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/admin/auth/check",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "auth", "check"]
						},
						"description": "Check if admin session is valid"
					}
				},
				{
					"name": "Admin Logout",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/admin/auth/logout",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "auth", "logout"]
						},
						"description": "Logout and invalidate admin session"
					}
				}
			],
			"description": "Admin authentication endpoints"
		},
		{
			"name": "Admin - Order Management",
			"item": [
				{
					"name": "List All Orders",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/admin/orders?page=0&size=10",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "orders"],
							"query": [
								{
									"key": "page",
									"value": "0",
									"description": "Page number (0-indexed)"
								},
								{
									"key": "size",
									"value": "10",
									"description": "Items per page"
								},
								{
									"key": "status",
									"value": "pending",
									"disabled": true,
									"description": "Filter by status: pending, confirmed, processing, shipping, completed, cancelled"
								}
							]
						},
						"description": "List all orders with pagination. Requires admin login."
					}
				},
				{
					"name": "List Orders - Filter by Status (Pending)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/admin/orders?status=pending&page=0&size=10",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "orders"],
							"query": [
								{
									"key": "status",
									"value": "pending"
								},
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						},
						"description": "Filter orders by pending status"
					}
				},
				{
					"name": "Get Order Details",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/admin/orders/1",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "orders", "1"]
						},
						"description": "Get detailed order information by ID. Requires admin login."
					}
				},
				{
					"name": "Update Order Status - Confirm Order",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"confirmed\",\n    \"adminNote\": \"Đơn hàng đã được xác nhận\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/orders/1/status",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "orders", "1", "status"]
						},
						"description": "Update order status to confirmed. Requires admin login."
					}
				},
				{
					"name": "Update Order Status - Processing",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"processing\",\n    \"adminNote\": \"Đơn hàng đang được chuẩn bị\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/orders/1/status",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "orders", "1", "status"]
						},
						"description": "Update order status to processing (after confirmed)"
					}
				},
				{
					"name": "Update Payment Status - Mark as Paid",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"paymentStatus\": \"paid\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/orders/1/payment-status",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "orders", "1", "payment-status"]
						},
						"description": "Update payment status to paid (separate from order status)"
					}
				},
				{
					"name": "Update Order Status - Shipping",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"shipping\",\n    \"adminNote\": \"Đơn hàng đang được giao\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/orders/1/status",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "orders", "1", "status"]
						},
						"description": "Update order status to shipping (warehouse staff marks as shipped)"
					}
				},
				{
					"name": "Update Order Status - Completed",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"completed\",\n    \"adminNote\": \"Giao hàng thành công\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/orders/1/status",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "orders", "1", "status"]
						},
						"description": "Update order status to completed"
					}
				},
				{
					"name": "Update Order Status - Cancel Order",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"cancelled\",\n    \"adminNote\": \"Khách hàng yêu cầu hủy đơn\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/orders/1/status",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "orders", "1", "status"]
						},
						"description": "Cancel order (customer requested cancellation)"
					}
				}
			],
			"description": "Admin order management endpoints - requires authentication"
		},
		{
			"name": "Race Condition Tests (Critical)",
			"item": [
				{
					"name": "Step 1 - Customer A: Add Last Item to Cart",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "race-customer-A"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"variantId\": 42,\n    \"quantity\": 1\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/cart/items",
							"host": ["{{baseUrl}}"],
							"path": ["api", "cart", "items"]
						},
						"description": "Customer A adds the last Hoodie Limited Edition XL (only 1 in stock) to cart"
					}
				},
				{
					"name": "Step 2 - Customer A: Reserve Inventory",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "race-customer-A"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/checkout/reserve",
							"host": ["{{baseUrl}}"],
							"path": ["api", "checkout", "reserve"]
						},
						"description": "Customer A reserves the last item - locks it for 15 minutes"
					}
				},
				{
					"name": "Step 3 - Customer B: Try to Add Same Item (Should FAIL)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "race-customer-B"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"variantId\": 42,\n    \"quantity\": 1\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/cart/items",
							"host": ["{{baseUrl}}"],
							"path": ["api", "cart", "items"]
						},
						"description": "Customer B tries to add the same item that Customer A reserved - SHOULD FAIL with 'Insufficient stock'"
					}
				},
				{
					"name": "Step 4 - Customer A: Cancel Reservation",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "race-customer-A"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/checkout/reservation",
							"host": ["{{baseUrl}}"],
							"path": ["api", "checkout", "reservation"]
						},
						"description": "Customer A cancels reservation - releases the item back to available stock"
					}
				},
				{
					"name": "Step 5 - Customer B: Try Again (Should SUCCEED)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "race-customer-B"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"variantId\": 42,\n    \"quantity\": 1\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/cart/items",
							"host": ["{{baseUrl}}"],
							"path": ["api", "cart", "items"]
						},
						"description": "Customer B tries again after A cancelled - SHOULD SUCCEED now"
					}
				},
				{
					"name": "Step 6 - Customer B: Reserve and Create Order",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "race-customer-B"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/checkout/reserve",
							"host": ["{{baseUrl}}"],
							"path": ["api", "checkout", "reserve"]
						},
						"description": "Customer B reserves the item successfully"
					}
				},
				{
					"name": "Step 7 - Customer B: Complete Order",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "race-customer-B"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"customerName\": \"Trần Văn B\",\n    \"customerEmail\": \"tranvanb@gmail.com\",\n    \"customerPhone\": \"0902345678\",\n    \"shippingAddress\": \"456 Nguyễn Huệ\",\n    \"shippingCity\": \"TP.HCM\",\n    \"shippingDistrict\": \"Quận 1\",\n    \"paymentMethod\": \"COD\",\n    \"customerNote\": \"Giao ngoài giờ\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/checkout/order",
							"host": ["{{baseUrl}}"],
							"path": ["api", "checkout", "order"]
						},
						"description": "Customer B creates order - stock should now be 0"
					}
				},
				{
					"name": "Step 8 - Verify Stock is Zero",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products/9",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products", "9"]
						},
						"description": "Verify that Hoodie Limited Edition XL (variant 42) now has 0 available stock"
					}
				},
				{
					"name": "Step 9 - Customer C: Try to Buy (Should FAIL)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "race-customer-C"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"variantId\": 42,\n    \"quantity\": 1\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/cart/items",
							"host": ["{{baseUrl}}"],
							"path": ["api", "cart", "items"]
						},
						"description": "Customer C tries to buy the out-of-stock item - SHOULD FAIL"
					}
				}
			],
			"description": "Test the CRITICAL race condition scenario - prevents 'out of stock but still sold' issue"
		},
		{
			"name": "Error Scenarios",
			"item": [
				{
					"name": "Product Not Found",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/products/999999",
							"host": ["{{baseUrl}}"],
							"path": ["api", "products", "999999"]
						},
						"description": "Test error handling for non-existent product"
					}
				},
				{
					"name": "Cart - Insufficient Stock",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "{{sessionId}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"variantId\": 42,\n    \"quantity\": 100\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/cart/items",
							"host": ["{{baseUrl}}"],
							"path": ["api", "cart", "items"]
						},
						"description": "Test adding more items than available stock (Limited Edition Hoodie XL has only 1 in stock)"
					}
				},
				{
					"name": "Reserve - Empty Cart",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "non-existent-session"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/checkout/reserve",
							"host": ["{{baseUrl}}"],
							"path": ["api", "checkout", "reserve"]
						},
						"description": "Test reserving inventory with empty or non-existent cart"
					}
				},
				{
					"name": "Admin - Invalid Status Transition",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"completed\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/admin/orders/1/status",
							"host": ["{{baseUrl}}"],
							"path": ["api", "admin", "orders", "1", "status"]
						},
						"description": "Test invalid status transition (e.g., pending directly to completed) - should fail"
					}
				},
				{
					"name": "Order Not Found",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/orders/track/invalid-token-12345",
							"host": ["{{baseUrl}}"],
							"path": ["api", "orders", "track", "invalid-token-12345"]
						},
						"description": "Test tracking with invalid token"
					}
				}
			],
			"description": "Test error handling and validation"
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "sessionId",
			"value": "test-session-123",
			"type": "string",
			"description": "Session ID for cart operations - change this to test different sessions"
		},
		{
			"key": "trackingToken",
			"value": "9016d8f2-c5a0-4f6e-a8c0-4b43b763d2c0",
			"type": "string",
			"description": "Example tracking token - replace with actual token from created order"
		}
	]
}
