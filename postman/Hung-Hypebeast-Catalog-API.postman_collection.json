{
	"info": {
		"name": "Hung Hypebeast E-Commerce API",
		"description": "API collection for testing Catalog and Cart endpoints",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Products",
			"item": [
				{
					"name": "Get All Products",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/products?page=0&size=20",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "products"],
							"query": [
								{
									"key": "page",
									"value": "0",
									"description": "Page number (0-indexed)"
								},
								{
									"key": "size",
									"value": "20",
									"description": "Items per page"
								},
								{
									"key": "sortBy",
									"value": "createdAt",
									"disabled": true,
									"description": "Sort field: name, price, createdAt"
								},
								{
									"key": "sortDirection",
									"value": "DESC",
									"disabled": true,
									"description": "ASC or DESC"
								}
							]
						},
						"description": "Get paginated list of all products"
					}
				},
				{
					"name": "Get Products - Filter by Category (Ão Thun)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/products?category=ao-thun&page=0&size=10",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "products"],
							"query": [
								{
									"key": "category",
									"value": "ao-thun",
									"description": "Filter by category: ao-thun, hoodie, quan"
								},
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						},
						"description": "Filter products by category (T-shirts)"
					}
				},
				{
					"name": "Get Products - Filter by Category (Hoodie)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/products?category=hoodie&page=0&size=10",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "products"],
							"query": [
								{
									"key": "category",
									"value": "hoodie"
								},
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						},
						"description": "Filter products by category (Hoodies)"
					}
				},
				{
					"name": "Get Products - Filter by Price Range",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/products?minPrice=300000&maxPrice=500000&page=0&size=20",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "products"],
							"query": [
								{
									"key": "minPrice",
									"value": "300000",
									"description": "Minimum price in VND"
								},
								{
									"key": "maxPrice",
									"value": "500000",
									"description": "Maximum price in VND"
								},
								{
									"key": "page",
									"value": "0"
								},
								{
									"key": "size",
									"value": "20"
								}
							]
						},
						"description": "Filter products by price range (300k - 500k VND)"
					}
				},
				{
					"name": "Get Products - Combined Filters",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/products?category=hoodie&minPrice=500000&maxPrice=700000&sortBy=price&sortDirection=ASC",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "products"],
							"query": [
								{
									"key": "category",
									"value": "hoodie"
								},
								{
									"key": "minPrice",
									"value": "500000"
								},
								{
									"key": "maxPrice",
									"value": "700000"
								},
								{
									"key": "sortBy",
									"value": "price"
								},
								{
									"key": "sortDirection",
									"value": "ASC"
								}
							]
						},
						"description": "Combined filters: category + price range + sorting"
					}
				},
				{
					"name": "Get Products - Sort by Name",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/products?sortBy=name&sortDirection=ASC&size=10",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "products"],
							"query": [
								{
									"key": "sortBy",
									"value": "name"
								},
								{
									"key": "sortDirection",
									"value": "ASC"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						},
						"description": "Sort products alphabetically by name"
					}
				},
				{
					"name": "Get Products - Pagination Test (Page 2)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/products?page=1&size=5",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "products"],
							"query": [
								{
									"key": "page",
									"value": "1",
									"description": "Second page (0-indexed)"
								},
								{
									"key": "size",
									"value": "5",
									"description": "5 items per page"
								}
							]
						},
						"description": "Test pagination - second page with 5 items"
					}
				},
				{
					"name": "Get Product by ID",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/products/1",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "products", "1"]
						},
						"description": "Get detailed product information including variants by ID"
					}
				},
				{
					"name": "Get Limited Edition Product (Low Stock)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/products/9",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "products", "9"]
						},
						"description": "Get limited edition hoodie with low stock (for testing inventory)"
					}
				}
			],
			"description": "Product catalog endpoints for browsing and searching products"
		},
		{
			"name": "Cart",
			"item": [
				{
					"name": "Get Cart",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "test-session-123",
								"description": "Session ID to identify the cart"
							}
						],
						"url": {
							"raw": "http://localhost:8080/api/cart",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "cart"]
						},
						"description": "Get current cart contents. Creates a new cart if not exists."
					}
				},
				{
					"name": "Add Item to Cart",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "test-session-123",
								"description": "Session ID to identify the cart"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"variantId\": 1,\n    \"quantity\": 2\n}"
						},
						"url": {
							"raw": "http://localhost:8080/api/cart/items",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "cart", "items"]
						},
						"description": "Add a product variant to cart. Validates stock availability."
					}
				},
				{
					"name": "Add Another Item (Hoodie)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "test-session-123"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"variantId\": 25,\n    \"quantity\": 1\n}"
						},
						"url": {
							"raw": "http://localhost:8080/api/cart/items",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "cart", "items"]
						},
						"description": "Add Hoodie Black Dragon to cart"
					}
				},
				{
					"name": "Update Cart Item Quantity",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "test-session-123"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"quantity\": 5\n}"
						},
						"url": {
							"raw": "http://localhost:8080/api/cart/items/1",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "cart", "items", "1"]
						},
						"description": "Update quantity of cart item. Validates stock availability."
					}
				},
				{
					"name": "Remove Item from Cart",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "test-session-123"
							}
						],
						"url": {
							"raw": "http://localhost:8080/api/cart/items/1",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "cart", "items", "1"]
						},
						"description": "Remove an item from the cart"
					}
				}
			],
			"description": "Shopping cart endpoints"
		},
		{
			"name": "Checkout - Inventory Reservation",
			"item": [
				{
					"name": "Reserve Inventory",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "test-session-123"
							}
						],
						"url": {
							"raw": "http://localhost:8080/api/checkout/reserve",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "checkout", "reserve"]
						},
						"description": "Reserve inventory for 15 minutes when customer enters checkout page. This locks the items in cart so other customers cannot purchase them."
					}
				},
				{
					"name": "Get Active Reservation",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "test-session-123"
							}
						],
						"url": {
							"raw": "http://localhost:8080/api/checkout/reservation",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "checkout", "reservation"]
						},
						"description": "Check if there's an active reservation for this session. Returns remaining time."
					}
				},
				{
					"name": "Cancel Reservation",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "test-session-123"
							}
						],
						"url": {
							"raw": "http://localhost:8080/api/checkout/reservation",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "checkout", "reservation"]
						},
						"description": "Cancel the reservation and release the inventory back to available stock."
					}
				}
			],
			"description": "Inventory reservation endpoints for checkout process"
		},
		{
			"name": "Error Scenarios",
			"item": [
				{
					"name": "Product Not Found",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/products/999999",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "products", "999999"]
						},
						"description": "Test error handling for non-existent product"
					}
				},
				{
					"name": "Invalid Price Range",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/products?minPrice=500000&maxPrice=300000",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "products"],
							"query": [
								{
									"key": "minPrice",
									"value": "500000",
									"description": "Min price greater than max price"
								},
								{
									"key": "maxPrice",
									"value": "300000"
								}
							]
						},
						"description": "Test validation error when min price > max price"
					}
				},
				{
					"name": "Invalid Pagination (Negative Page)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/products?page=-1&size=10",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "products"],
							"query": [
								{
									"key": "page",
									"value": "-1",
									"description": "Invalid negative page number"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						},
						"description": "Test pagination validation error"
					}
				},
				{
					"name": "Cart - Insufficient Stock",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "test-session-123"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"variantId\": 36,\n    \"quantity\": 100\n}"
						},
						"url": {
							"raw": "http://localhost:8080/api/cart/items",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "cart", "items"]
						},
						"description": "Test adding more items than available stock (Limited Edition Hoodie has only 3 in stock)"
					}
				},
				{
					"name": "Cart - Variant Not Found",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "test-session-123"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"variantId\": 99999,\n    \"quantity\": 1\n}"
						},
						"url": {
							"raw": "http://localhost:8080/api/cart/items",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "cart", "items"]
						},
						"description": "Test adding non-existent variant to cart"
					}
				},
				{
					"name": "Cart - Invalid Input",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "test-session-123"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"variantId\": 1,\n    \"quantity\": 0\n}"
						},
						"url": {
							"raw": "http://localhost:8080/api/cart/items",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "cart", "items"]
						},
						"description": "Test invalid quantity (must be >= 1)"
					}
				},
				{
					"name": "Cart Item Not Found",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "test-session-123"
							}
						],
						"url": {
							"raw": "http://localhost:8080/api/cart/items/99999",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "cart", "items", "99999"]
						},
						"description": "Test deleting non-existent cart item"
					}
				},
				{
					"name": "Reserve - Empty Cart",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "non-existent-session"
							}
						],
						"url": {
							"raw": "http://localhost:8080/api/checkout/reserve",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "checkout", "reserve"]
						},
						"description": "Test reserving inventory with empty or non-existent cart"
					}
				},
				{
					"name": "Reserve - Last Item Race Condition",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "X-Session-Id",
								"value": "race-condition-test"
							}
						],
						"url": {
							"raw": "http://localhost:8080/api/checkout/reserve",
							"protocol": "http",
							"host": ["localhost"],
							"port": "8080",
							"path": ["api", "checkout", "reserve"]
						},
						"description": "Test race condition scenario - when another user already reserved the last item"
					}
				}
			],
			"description": "Test error handling and validation"
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080",
			"type": "string"
		}
	]
}
